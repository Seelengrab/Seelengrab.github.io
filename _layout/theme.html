
<script>
const setTheme = function (newTheme) {
  var prefersDarkScheme = window.matchMedia("(prefers-color-scheme: dark)");
  var wasNull = newTheme === null;
  if (newTheme === null) {
    if (prefersDarkScheme.matches) {
      newTheme = "dark";
    } else {
      newTheme = "light";
    };
  };
  if (newTheme == "dark") {
    document.body.classList.toggle("light-theme", false);
    document.body.classList.toggle("dark-theme", true);
    document.querySelector(".theme-moon").style.display = "inline-block";
    document.querySelector(".theme-sun").style.display = "none";
  } else {
    document.body.classList.toggle("dark-theme", false);
    document.body.classList.toggle("light-theme", true);
    document.querySelector(".theme-sun").style.display = "inline-block";
    document.querySelector(".theme-moon").style.display = "none";
  }
  if (!wasNull) {
    localStorage.setItem("theme", newTheme);
  }
};
var currentTheme = localStorage.getItem("theme");
console.log(currentTheme);
setTheme(currentTheme);

var btn = document.querySelector(".theme-toggle");
btn.addEventListener("click", function () {
  var theme = document.body.classList.contains("light-theme")
    ? "dark"
    : "light";
  setTheme(theme);
});
var prefersDarkScheme = window.matchMedia("(prefers-color-scheme: dark)");
prefersDarkScheme.addEventListener("change", function() {setTheme(localStorage.getItem("theme"))});
</script>
